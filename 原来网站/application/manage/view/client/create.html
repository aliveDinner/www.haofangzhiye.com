<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <title>{$meta_title ? $meta_title.' - ' : ''}_TITLE_</title>

    <style>
        .layui-form-item {
            margin-bottom: 30px;
        }
        .layui-form-item .layui-inline:nth-child(2) .layui-form-label{
            width: 185px !important;
        }

        .layui-form-item .layui-input-block.right-width {
            padding-right: 120px;
        }
        .layui-input-inline{
            margin-bottom: 5px;
        }
    </style>

</head>
<body>

<section style="max-width:1200px;margin: 0 auto 30px;position: relative;">

    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend style="text-align: center;">添加客户</legend>
    </fieldset>

    <form class="layui-form forms" id="defaultForm" action="" method="post" style="padding: 15px 0">

        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label"><span class="layui-color-danger">*</span>用户名:</label>
                <div class="layui-input-inline">
                    <input type="text" value="" name="userName" lay-verify="require" placeholder="用户名" class="layui-input">
                </div>
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"><span class="layui-color-danger"></span>身份证:</label>
                <div class="layui-input-inline">
                    <input type="text" value="" name="cardId" lay-verify="" placeholder="身份证" maxlength="18" class="layui-input">
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label"><span class="layui-color-danger">*</span>客户联系方式:</label>
                <div class="layui-input-inline">
                    <input type="text" value="" name="phone" lay-verify="require" placeholder="客户联系方式" maxlength="11" class="layui-input">
                </div>
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"><span class="layui-color-danger">*</span>性别:</label>
                <div class="layui-input-inline">
                    <input type="radio" value="1" name="sex" title="女" lay-verify="checked" lay-error="性别" lay-group="sex">
                    <input type="radio" value="2" name="sex" title="男" lay-verify="checked" lay-error="性别" lay-group="sex">
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label"><span class="layui-color-danger">*</span>需求类别:</label>
                <div class="layui-input-inline">
                    <select name="requireType" lay-verify="require" lay-search>
                        <option value="">需求类别</option>
                        {volist name="model->getLists('requireType')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"><span class="layui-color-danger"></span>邮箱:</label>
                <div class="layui-input-inline">
                    <input type="text" value="" name="email" lay-verify="" placeholder="邮箱" class="layui-input">
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>所属区域：</label>
            <div class="layui-input-block right-width">
                <div class="layui-input-inline">
                    <select name="province_id" lay-search lay-filter="province">
                        <option value="">选择省份</option>
                        {volist name="city" id="item"}
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline">
                    <select name="city_id" lay-search="" lay-filter="city">
                        <option value="">选择区/县</option>
                    </select>
                </div>
                <div class="layui-input-inline">
                    <select name="county_id" lay-search="" lay-filter="county">
                        <option value="">选择区/县</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>其他信息：</label>
            <div class="layui-input-block right-width">
                <div class="layui-input-inline">
                    <input type="text" value="" name="otherName" lay-verify="" placeholder="其他名称"
                           class="layui-input">
                </div>
                <div class="layui-input-inline">
                    <input type="text" value="" name="otherPhone" lay-verify="" placeholder="其他手机号码"
                           class="layui-input">
                </div>
                <div class="layui-input-inline">
                    <input type="text" value="" name="weChat" lay-verify="" placeholder="微信"
                           class="layui-input">
                </div>
                <div class="layui-input-inline">
                    <input type="text" value="" name="qq" lay-verify="" placeholder="QQ "
                           class="layui-input">
                </div>
                <div class="layui-input-inline">
                    <input type="text" value="" name="birth" lay-verify="" placeholder="生日 "
                           class="layui-input">
                </div>
                <div class="layui-input-inline">
                    <input type="text" value="" name="job" lay-verify="" placeholder="工作 "
                           class="layui-input">
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">头像：</label>
            <div class="layui-input-block" style="padding-right: 120px;">
                <input type="file" id="avatar_file" name="file" placeholder="头像" class="layui-upload-file">
                <input type="hidden" value="" name="avatar" id="avatar" placeholder="头像" class="layui-input">
                <div lay-filter="show-url" style="display:none;border: 1px solid #e6e6e6;border-radius: 2px;max-width: 700px;"></div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>客户信息：</label>
            <div class="layui-input-block right-width">
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="clientFrom" lay-verify="" lay-search>
                        <option value="">客户来源</option>
                        {volist name="model->getLists('clientFrom')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="feature" lay-verify="" lay-search>
                        <option value="">客户等级</option>
                        {volist name="model->getLists('clientFrom')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="feature" lay-verify="" lay-search>
                        <option value="">客户需求</option>
                        {volist name="model->getLists('buyPurpose')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="buyCity" lay-verify="" lay-search>
                        <option value="">购买城市</option>
                        {volist name="city" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="askType" lay-verify="" lay-search>
                        <option value="">接洽方式</option>
                        {volist name="model->getLists('askType')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="serviceStatus" lay-verify="" lay-search>
                        <option value="">服务状态</option>
                        {volist name="model->getLists('serviceStatus')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline" style="width: 150px;">
                    <select name="belongUserId" lay-verify="" lay-search>
                        <option value="">权属人</option>
                        {volist name="model->getLists('serviceStatus')" id="item" }
                        <option value="{$key}">{$item}</option>
                        {/volist}
                    </select>
                </div>
                <div class="layui-input-inline">
                    <input type="text" value="" name="agentNextId" lay-verify="" placeholder="经纪人 "
                           class="layui-input">
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>备注:</label>
            <div class="layui-input-block right-width">
                <textarea name="notes" lay-verify="" placeholder="备注" class="layui-textarea" lay-height="auto"></textarea>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>是否来过海南:</label>
            <div class="layui-input-block right-width">
                <input type="text" name="inHainan" lay-verify="" placeholder="是否来过海南" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>看房项目:</label>
            <div class="layui-input-block right-width">
                <input type="text" value="" name="seeItem" lay-verify="" placeholder="看房项目" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label"><span class="layui-color-danger"></span>客户关注:</label>
            <div class="layui-input-block right-width">
                <textarea name="clientPoint" lay-verify="" placeholder="客户关注" class="layui-textarea" lay-height="auto"></textarea>
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label"></label>
                <button class="layui-btn" lay-submit="" lay-filter="submit">添加</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>

    </form>

</section>

<script src="__JS__/site.js"></script>
<script src="__JS__/back.js"></script>
<script>

    layui.use(['form'], function () {
        var form = layui.form();

    });

    $(function () {
        var options = {
            form: '#defaultForm',
            success: console.log
        };
        Back.submit(options);
    });

    var indexUrl = Site.uploader({
        elem: '#avatar_file',
        targetElem: '#avatar',
        url: '/client/uploader?file=file',
        title: '上传头像',
        isAjax: true,
        success: function (res, input) {
            console.log(res);
            console.log($('#avatar').val());
        }
    });

</script>

</body>

</html>